# ğŸ”„ å‰åç«¯åˆ†ç¦»éƒ¨ç½²æµç¨‹

> **åœºæ™¯**ï¼šMac mini è¿è¡Œå‰ç«¯ + Mac Air è¿è¡Œåç«¯ï¼ˆå±€åŸŸç½‘ï¼‰

---

## æ¶æ„å›¾

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å±€åŸŸç½‘ç¯å¢ƒ                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚   Mac mini (å¼€å‘ + å‰ç«¯å±•ç¤º)                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚   â”‚  å‰ç«¯é¡¹ç›®                         â”‚                     â”‚
â”‚   â”‚  â”œâ”€â”€ è¿è¡Œåœ¨ localhost:3000       â”‚                     â”‚
â”‚   â”‚  â””â”€â”€ API è¯·æ±‚ â†’ Mac Air IP:8001  â”‚â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚              â”‚
â”‚                                             â”‚              â”‚
â”‚                                             â–¼              â”‚
â”‚   Mac Air (åç«¯æœåŠ¡å™¨)                        å±€åŸŸç½‘          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚              â”‚
â”‚   â”‚  Docker å®¹å™¨                      â”‚      â”‚              â”‚
â”‚   â”‚  â””â”€â”€ åç«¯ API :8001              â”‚â—€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                                                             â”‚
â”‚   Mac Air IP: 192.168.x.x (æŸ¥çœ‹æ–¹æ³•: ifconfig | grep inet) â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‹ å®Œæ•´æ“ä½œæµç¨‹

### ç¬¬ä¸€é˜¶æ®µï¼šMac mini æ“ä½œï¼ˆå‡†å¤‡åç«¯ä»£ç ï¼‰

#### 1. æŸ¥çœ‹é¡¹ç›®ç»“æ„
```bash
# å‡è®¾ä½ çš„é¡¹ç›®ç»“æ„ç±»ä¼¼è¿™æ ·
~/Projects/YourProject/
â”œâ”€â”€ frontend/          # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ ...
â””â”€â”€ backend/           # åç«¯ä»£ç  â† è¿™ä¸ªè¦ä¼ ç»™ Mac Air
    â”œâ”€â”€ main.py
    â”œâ”€â”€ requirements.txt
    â””â”€â”€ ...
```

#### 2. ä¸ºåç«¯åˆ›å»º Dockerfileï¼ˆå¦‚æœæ²¡æœ‰ï¼‰

åœ¨ `backend/` ç›®å½•ä¸‹åˆ›å»ºï¼š

**Dockerfile:**
```dockerfile
FROM python:3.11-slim
WORKDIR /app
RUN apt-get update && apt-get install -y curl && rm -rf /var/lib/apt/lists/*
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt
COPY . .
EXPOSE 8000
CMD ["gunicorn", "main:app", "-w", "4", "-k", "uvicorn.workers.UvicornWorker", "-b", "0.0.0.0:8000"]
```

**.dockerignore:**
```text
.git
__pycache__
venv
.env
*.pyc
.DS_Store
```

#### 3. æ‰“åŒ…åç«¯ä»£ç 

```bash
cd ~/Projects/YourProject
zip -r backend.zip backend -x "*.git*" -x "*venv*" -x "*__pycache__*" -x "*.env"
```

#### 4. ä¸Šä¼ åˆ° Google Drive

æŠŠ `backend.zip` ä¸Šä¼ åˆ° Google Drive å…±äº«æ–‡ä»¶å¤¹

---

### ç¬¬äºŒé˜¶æ®µï¼šMac Air æ“ä½œï¼ˆéƒ¨ç½²åç«¯ï¼‰

#### 1. ä» Google Drive ä¸‹è½½ `backend.zip`

#### 2. è§£å‹åˆ° projects ç›®å½•

```bash
cd ~/Projects/è‡ªåŠ¨åŒ–éƒ¨ç½²æœåŠ¡å™¨/projects
unzip ~/Downloads/backend.zip
# å¦‚æœæ–‡ä»¶å¤¹åç§°ä¸å¯¹ï¼Œé‡å‘½å
mv backend YourProject-Backend
```

#### 3. æ³¨å†ŒæœåŠ¡åˆ° docker-compose.yml

ç¼–è¾‘ `~/Projects/è‡ªåŠ¨åŒ–éƒ¨ç½²æœåŠ¡å™¨/server/docker-compose.yml`ï¼Œæ·»åŠ ï¼š

```yaml
  your-project-backend:
    build: ../projects/YourProject-Backend
    container_name: your-project-backend
    restart: always
    ports:
      - "8002:8000"   # åˆ†é…æ–°ç«¯å£
    env_file:
      - .env
```

#### 4. å¯åŠ¨æœåŠ¡

```bash
cd ~/Projects/è‡ªåŠ¨åŒ–éƒ¨ç½²æœåŠ¡å™¨/server
docker compose up -d --build
```

#### 5. æŸ¥çœ‹ Mac Air çš„ IP åœ°å€

```bash
ifconfig | grep "inet " | grep -v 127.0.0.1
# è®°å½•ç±»ä¼¼ 192.168.1.100 çš„åœ°å€
```

---

### ç¬¬ä¸‰é˜¶æ®µï¼šMac mini æ“ä½œï¼ˆé…ç½®å‰ç«¯è¿æ¥åç«¯ï¼‰

#### 1. ä¿®æ”¹å‰ç«¯ API åœ°å€

æ‰¾åˆ°å‰ç«¯çš„ API é…ç½®æ–‡ä»¶ï¼Œé€šå¸¸æ˜¯ï¼š
- `.env` æˆ– `.env.local`
- `src/config.js`
- `src/api/index.js`

ä¿®æ”¹ API åœ°å€ï¼š

```javascript
// ä¿®æ”¹å‰
const API_URL = "http://localhost:8000"

// ä¿®æ”¹åï¼ˆæ›¿æ¢ä¸º Mac Air çš„ IPï¼‰
const API_URL = "http://192.168.1.100:8002"
```

æˆ–è€…åœ¨ `.env` æ–‡ä»¶ä¸­ï¼š
```bash
VITE_API_URL=http://192.168.1.100:8002
# æˆ–
REACT_APP_API_URL=http://192.168.1.100:8002
```

#### 2. é‡å¯å‰ç«¯

```bash
npm run dev
```

---

## ğŸ“¦ æ–‡ä»¶ä¼ é€’æ¸…å•

### Mac mini â†’ Mac Airï¼ˆé€šè¿‡ Google Driveï¼‰

| æ–‡ä»¶ | è¯´æ˜ |
|-----|------|
| `backend.zip` | åç«¯ä»£ç ï¼ˆåŒ…å« Dockerfileï¼‰ |

### Mac Air â†’ Mac miniï¼ˆé€šè¿‡ Google Driveï¼‰

| æ–‡ä»¶ | è¯´æ˜ |
|-----|------|
| `agent.md` | AI å¼€å‘æŒ‡ä»¤ |
| `mac-mini-å¼€å‘è§„èŒƒ.md` | å¼€å‘è§„èŒƒ |
| Mac Air IP åœ°å€ | è®°åœ¨ä¾¿ç­¾é‡Œå°±è¡Œ |

---

## ğŸ”§ æ—¥å¸¸æ›´æ–°æµç¨‹

å½“ä½ åœ¨ Mac mini ä¿®æ”¹äº†åç«¯ä»£ç ï¼š

1. **Mac mini**: é‡æ–°æ‰“åŒ… `backend.zip` â†’ ä¸Šä¼  Google Drive
2. **Mac Air**: ä¸‹è½½ â†’ è§£å‹è¦†ç›– â†’ è¿è¡Œé‡å»ºå‘½ä»¤ï¼š
   ```bash
   cd ~/Projects/è‡ªåŠ¨åŒ–éƒ¨ç½²æœåŠ¡å™¨/server
   docker compose up -d --build your-project-backend
   ```

---

## â“ å¸¸è§é—®é¢˜

### å‰ç«¯æ— æ³•è¿æ¥åç«¯ï¼Ÿ

1. æ£€æŸ¥ Mac Air é˜²ç«å¢™æ˜¯å¦å…è®¸ç«¯å£
2. ç¡®è®¤ä¸¤å°æœºå™¨åœ¨åŒä¸€ç½‘æ®µ
3. åœ¨ Mac Air ä¸Šæµ‹è¯•ï¼š`curl http://localhost:8002`

### è·å– Mac Air IP çš„å¿«æ·æ–¹å¼

```bash
# åœ¨ Mac Air ç»ˆç«¯è¿è¡Œ
ipconfig getifaddr en0
```
